<div class="row">
	<h2>Customers</h2>

	<p>Select a customer</p>
	<div class="col-sm-12">
		<div class="col-sm-10">
			<select *ngIf="customers" class="form-control" #customer (change)="getCustomer(customer.value)">
                <option>
                    Please select...
                </option>
                <option *ngFor="let customer of customers" [value]="customer.CustomerId">
                    {{customer.FirstName}} {{customer.LastName}} 
                </option>
            </select>
		</div>
		<div class="col-sm-2">
			<button type="button" class="btn btn-default" (click)="newCustomer()">New Customer</button>
		</div>
	</div>
</div>

<hr />

<div *ngIf="customer">
	<form (ngSubmit)="updateCustomer()" #customerForm="ngForm">
		<div class="col-sm-12">
			<div class="form-group">
				<div class="col-md-12">
					<label class="col-md-4 control-label">Title</label>
					<div class="col-md-4">
						<input type="text" placeholder="Title..." class="form-control input-md" [(ngModel)]="customer.Title" name="title">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">First Name</label>
					<div class="col-md-4">
						<input type="text" placeholder="First Name..." class="form-control input-md" [(ngModel)]="customer.FirstName" name="firstName">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Last Name</label>
					<div class="col-md-4">
						<input type="text" placeholder="Last Name..." class="form-control input-md" [(ngModel)]="customer.LastName" name="lastName">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Address 1</label>
					<div class="col-md-4">
						<input type="text" placeholder="Address 1..." class="form-control input-md" [(ngModel)]="customer.Address1" name="address1">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Address 2</label>
					<div class="col-md-4">
						<input type="text" placeholder="Address 2..." class="form-control input-md" [(ngModel)]="customer.Address2" name="address2">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Town</label>
					<div class="col-md-4">
						<input type="text" placeholder="Town..." class="form-control input-md" [(ngModel)]="customer.Town" name="town">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">County</label>
					<div class="col-md-4">
						<input type="text" placeholder="County..." class="form-control input-md" [(ngModel)]="customer.County" name="county">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Post Code</label>
					<div class="col-md-4">
						<input type="text" placeholder="PostCode..." class="form-control input-md" [(ngModel)]="customer.PostCode" name="postcode">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Phone Number</label>
					<div class="col-md-4">
						<input type="text" placeholder="Phone Number..." class="form-control input-md" [(ngModel)]="customer.PhoneNumber" name="phoneNumber">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Mobile Number</label>
					<div class="col-md-4">
						<input type="text" placeholder="Mobile Number..." class="form-control input-md" [(ngModel)]="customer.MobileNumber" name="mobileNumber">
					</div>
					<div class="col-md-4"></div>
				</div>

				<div class="col-md-12">
					<label class="col-md-4 control-label">Email Address</label>
					<div class="col-md-4">
						<input type="text" placeholder="Email Address..." class="form-control input-md" [(ngModel)]="customer.EmailAddress" name="emailAddress">
					</div>
					<div class="col-md-4"></div>
				</div>
			</div>

			<hr />

			<div class="col-md-12">
				<label class="col-md-4 control-label">Customer Orders</label>
				<div class="col-md-8">
					<select *ngIf="customers" class="form-control" #customer (change)="getCustomer(customer.value)">
                        <option *ngFor="let order of customer.Order" [value]="customer.Order.OrderId" placeholder="Select an order...">
                            {{order.OrderId}}
                        </option>
                    </select>
				</div>
			</div>

		</div>
		<button type="submit" class="btn btn-default">Submit</button>
	</form>
</div>

<div *ngIf="customer">